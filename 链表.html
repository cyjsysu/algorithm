<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>链表</title>
</head>
<body>

<script>
    function ListNode(val){
        this.val = val;
        this.next = null;
    }
    function createLink(nums){
        let fakeHead = new ListNode(0);
        let curNode = fakeHead;
        for(let i = 0; i<nums.length;++i){
            curNode.next = new ListNode(nums[i]);
            curNode = curNode.next;
        }
        return fakeHead.next;
    }
    function link2list(head){
        let nums = [];
        let curNode = head;
        while(curNode){
            nums.push(curNode.val);
            curNode = curNode.next;
        }
        return nums;
    }
    // 每k个反转
    function reverseK(head, k){
        if(!head || !head.next || k <= 1){
            return head;
        }
        let fakeHead = new ListNode(0);
        fakeHead.next = head;
        let curK = k-1, curHead = head, curTail = head;
        let preNode = fakeHead;
        while(curTail.next){
            let tmp = curTail.next;
            curTail.next = tmp.next;
            //curNode = curNode.next;
            tmp.next = curHead;
            curHead = tmp;
            preNode.next = curHead;
            curK--;
            if(!curK){
                curK = k-1;
                preNode = curTail;
                curTail = curHead = curTail.next;
            }

        }
        return fakeHead.next;

    }
    let nums = [1,2,3,4,5,6,7];
    let head = createLink(nums);
    console.log(link2list(head));
    console.log(link2list(reverseK(head, 3)));
</script>
</body>
</html>